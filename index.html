<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Griffin Hampton - PSX Portfolio</title>
    <link rel="icon" type="image/png" href="src/textures/logo.png" />
    <link rel="stylesheet" href="src/styles.css" />
    <script type="importmap">
			{
				"imports": {
					"three": "https://cdn.jsdelivr.net/npm/three@0.161.0/build/three.module.js",
          "jsm/": "https://cdn.jsdelivr.net/npm/three@0.161.0/examples/jsm/",
          "gsap": "https://cdn.jsdelivr.net/npm/gsap@3.13.0/index.js"
        }
			}
		</script>
  </head>
  <body>
    <!-- Welcome Popup -->
    <div id="welcomePopup" class="welcome-popup" style="display: none;">
      <div class="welcome-card">
        <div class="welcome-glitch" style="size: 50px;">⚠</div>
        <h2 class="welcome-title">There's something in these woods...</h2>
        <div class="welcome-body">
          <p class="welcome-text">Click and drag to look around!!! </p>
          <p class="welcome-text">Click the blue orbs to move, and click anything with a red exclaimation point over it.</p>
        </div>
        <button class="welcome-button" id="welcomeButton">ENTER THE WOODS ></button>
      </div>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
      <div class="loading-content">
        <div class = "loading-message" style="color:red">CLICK AND DRAG TO LOOK AROUND</div>
        <div class="loading-message" id="loadingMessage">INITIALIZING...</div>
        <div class="loading-bar-container">
          <div class="loading-bar" id="loadingBar"></div>
        </div>
        <div class="loading-percent" id="loadingPercent">0%</div>
      </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="navbar-menu">
        <button class="nav-button" id="navBackToStart" data-nav="start">
          <span class="nav-icon">↺</span>
          <span class="nav-text">RESET</span>
        </button>
        <button class="nav-button" id="navToCabin" data-nav="cabin">
          <span class="nav-icon">⌂</span>
          <span class="nav-text">CABIN</span>
        </button>
      </div>
    </nav>

    <!-- LinkedIn Popup Card -->
    <div id="linkedinPopup" class="linkedin-popup" style="display: none;">
      <div class="popup-card draggable">
        <button class="popup-close" data-popup="linkedinPopup" data-object="cola" aria-label="Close">×</button>
        <div class="popup-header">
          <svg class="linkedin-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
          <span class="popup-title">CONNECT WITH ME</span>
        </div>
        <div class="popup-body">
          <p class="popup-text">VIEW MY PROFESSIONAL PROFILE</p>
          <a href="https://www.linkedin.com/in/griffin-hampton-56035235a" target="_blank" rel="noopener noreferrer" class="linkedin-button">
            VISIT LINKEDIN →
          </a>
        </div>
      </div>
    </div>

    <!-- Resume Image Popup (iframe style) -->
    <div id="resumeImagePopup" class="resume-image-popup" style="display: none;">
      <div class="popup-card popup-huge draggable">
        <button class="popup-close" data-popup="resumeImagePopup" aria-label="Close">×</button>
        <div class="popup-header">
          <span class="popup-title">RESUME PREVIEW</span>
        </div>
        <div class="popup-body">
          <img src="src/textures/Resume.webp" alt="Resume" class="resume-image" />
        </div>
      </div>
    </div>

    <!-- Resume Popup Card -->
    <div id="resumePopup" class="resume-popup" style="display: none;">
      <div class="popup-card draggable">
        <div class="resume-overlay"></div>
        <button class="popup-close" data-popup="resumePopup" data-object="paper" aria-label="Close">×</button>
        <div class="popup-header">
          <span class="popup-title">MY RESUME</span>
        </div>
        <div class="popup-body">
          <p class="popup-text">Download or view my resume below:</p>
          <a href="src/textures/Resume.pdf" download class="resume-btn">DOWNLOAD PDF</a>
          <a href="src/textures/Resume.pdf" target="_blank" rel="noopener noreferrer" class="resume-btn">OPEN IN NEW TAB</a>
          <button id="showResumeImageBtn" class="resume-btn" style="margin-top:10px;">VIEW IMAGE (LARGE)</button>
        </div>
      </div>
    </div>

    <!-- About Me Popup Card -->
    <div id="aboutPopup" class="about-popup" style="display: none;">
      <div class="popup-card popup-card-scrollable draggable">
        <button class="popup-close" data-popup="aboutPopup" data-object="painting" aria-label="Close">×</button>
        <div class="popup-header">
          <svg class="about-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span class="popup-title">ABOUT ME</span>
        </div>
        <div class="popup-body popup-body-scrollable">
          <h3 class="about-section-title">WHO AM I?</h3>
          <p class="popup-text">I'm Griffin Hampton, a second-year Computer Science major at the University of Louisville's J.B. Speed School of Engineering with a 3.8 GPA. Oh, and I'm the one with red hair.</p>
          
          <h3 class="about-section-title">WHAT I DO</h3>
          <p class="popup-text">I spend pretty much every day on my computer, typically coding and listening to music. If I see something cool I will invest weeks of time into it, that's how I got into Three.js. I learned Blender and created (almost) all of these assets myself (my friend Seth made the sick lantern). My next venture is going to be solving 100 hard difficulty LeetCode problems (or find an internship/job).</p>
          
          <div class="technical-skills-section">
            <h3 class="about-section-title">TECHNICAL SKILLS</h3>
            <p class="popup-text">• Python, C, C++, C#, Java<br>• HTML, CSS, JavaScript, React.js, Three.js<br>• Git/GitHub, VS Code, VBA<br>• OOP Design & Web Development<br>• AI Integration & UX/UI Design<br>• API Integration</p>
          </div>
          
          <h3 class="about-section-title">EXPERIENCE HIGHLIGHTS</h3>
          <p class="popup-text">• Built a professional sorting algorithm in Excel VBA that increased workflow efficiency by 35%<br>• Developed interactive web experiences using React.js, Three.js, and modern web technologies<br>• Former President of the Computer Science Honors Society<br>• Current Outreach Chair of Honors Student Council<br>• 50+ LinkedIn Skills & 10+ Certifications</p>
          
          <h3 class="about-section-title">LET'S CONNECT</h3>
          <p class="popup-text">I'm seeking a Spring/Summer 2026 Software Engineering/Computer Science/Game Dev/Web Design internship (literally anything in CS I love it all). Feel free to explore my portfolio and reach out if you'd like to collaborate/hire me!</p>
        </div>
      </div>
    </div>

    <div id="positionInfo">Hover over objects to see position</div>
    <button id="muteButton" class="mute-button" aria-label="Mute/Unmute audio">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="speaker-icon">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
        <path d="M15.54 8.46a5 5 0 0 1 0 7.07" class="sound-wave"></path>
        <path d="M19.07 4.93a10 10 0 0 1 0 14.14" class="sound-wave"></path>
      </svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mute-icon" style="display: none;">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
        <line x1="23" y1="9" x2="17" y2="15"></line>
        <line x1="17" y1="9" x2="23" y2="15"></line>
      </svg>
    </button>
    <!-- Settings button -->
    <button id="settingsButton" class="mute-button" aria-label="Settings">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="settings-icon">
        <circle cx="12" cy="12" r="3"></circle>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06A2 2 0 1 1 2.7 17.7l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09c.67 0 1.24-.4 1.51-1a1.65 1.65 0 0 0-.33-1.82L4.3 4.7A2 2 0 1 1 7.12 1.87l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V1a2 2 0 1 1 4 0v.09c0 .67.4 1.24 1 1.51h.09c.67 0 1.24.4 1.51 1a1.65 1.65 0 0 0 .33 1.82l.06.06A2 2 0 1 1 19.4 6.6l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .67.4 1.24 1 1.51H21a2 2 0 1 1 0 4h-.09c-.67 0-1.24.4-1.51 1z"></path>
      </svg>
    </button>
    <!-- Settings panel (hidden by default) -->
    <div id="settingsPanel" class="settings-panel" style="display:none; position:fixed; right:16px; bottom:72px; z-index:10000; background:rgba(0,0,0,0.9); padding:14px; border-radius:10px; color:#fff; width:260px; box-shadow:0 6px 18px rgba(0,0,0,0.6);">
      <button id="settingsCloseBtn" class="popup-close" aria-label="Close" style="position:absolute;right:8px;top:6px;background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer;">×</button>
      <div style="padding-top:6px;">
        <label for="dragSpeedRange" style="font-size:13px;display:block;margin-bottom:6px;">Drag speed: <span id="dragSpeedValue">0.002</span></label>
        <input id="dragSpeedRange" type="range" min="0.0005" max="0.01" step="0.0001" value="0.002" style="width:100%;" />
        <div style="height:12px"></div>
        <label for="muteCheckbox" style="font-size:13px;display:flex;align-items:center;gap:8px;cursor:pointer;">
          <input id="muteCheckbox" type="checkbox" style="transform:scale(1.1);margin:0;" />
          Mute audio
        </label>
      </div>
    </div>
    <!-- Achievements toggle button -->
    <button id="achievementsToggle" class="mute-button" aria-label="Achievements">
      <img src="src/textures/achievement-base.png" alt="Achievements" style="width:20px;height:20px;object-fit:contain;"/>
    </button>
    <script type="module" src="index.js"></script>
    <script>
      // Show resume image popup
      document.addEventListener('DOMContentLoaded', function() {
        var showBtn = document.getElementById('showResumeImageBtn');
        var imagePopup = document.getElementById('resumeImagePopup');
        var closeBtn = imagePopup ? imagePopup.querySelector('.popup-close') : null;
        if (showBtn && imagePopup) {
          showBtn.addEventListener('click', function() {
            imagePopup.style.display = 'block';
          });
        }
        if (closeBtn && imagePopup) {
          closeBtn.addEventListener('click', function() {
            imagePopup.style.display = 'none';
          });
        }

        // Drag and drop for all .draggable popups
        function makeDraggable(popupSelector) {
          var popups = document.querySelectorAll(popupSelector);
          popups.forEach(function(popup) {
            var isDragging = false;
            var startX, startY, origX, origY;
            var parent = popup.closest('.resume-image-popup, .resume-popup, .linkedin-popup, .about-popup, .welcome-popup');
            var header = popup.querySelector('.popup-header') || popup;
            header.style.cursor = 'grab';
            header.addEventListener('mousedown', function(e) {
              isDragging = true;
              popup.classList.add('dragging');
              startX = e.clientX;
              startY = e.clientY;
              var rect = parent.getBoundingClientRect();
              origX = rect.left;
              origY = rect.top;
              document.body.style.userSelect = 'none';
            });
            document.addEventListener('mousemove', function(e) {
              if (!isDragging) return;
              var dx = e.clientX - startX;
              var dy = e.clientY - startY;
              parent.style.top = (origY + dy) + 'px';
              parent.style.left = (origX + dx) + 'px';
              parent.style.transform = 'translate(0, 0)';
            });
            document.addEventListener('mouseup', function() {
              if (isDragging) {
                isDragging = false;
                popup.classList.remove('dragging');
                document.body.style.userSelect = '';
              }
            });
          });
        }
        makeDraggable('.draggable');
      });
      
        // Simple helper: open achievements popup if present
        document.addEventListener('DOMContentLoaded', function() {
          var achToggle = document.getElementById('achievementsToggle');
          var achPopup = document.getElementById('achievementsPopup');
          if (achToggle && achPopup) {
            achToggle.addEventListener('click', function() {
              achPopup.style.display = achPopup.style.display === 'block' ? 'none' : 'block';
            });
          }
        });
    </script>
    
      <!-- Achievements Popup -->
      </div>

        <!-- Screen Popup: only a large X button -->
        <div id="screenPopup" class="linkedin-popup" style="display: none;">
          <div class="popup-card draggable">
            <!-- Large X button; keep id so JS hooks work -->
            <button class="popup-close" id="screenReturnBtn" aria-label="Close">×</button>
          </div>
        </div>

      <div id="achievementsPopup" class="about-popup" style="display: none;">
        <div class="popup-card popup-card-scrollable draggable">
              <div class="popup-header" style="position:relative;">
                <img src="src/textures/achievement-base.png" alt="Achievements" style="width:32px;height:32px;object-fit:contain;"/>
                <span class="popup-title">Achievements</span>
                <button id="achievementsCloseBtn" class="popup-close" aria-label="Close" style="position:absolute;right:8px;top:6px;background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer;">×</button>
              </div>
          <div class="popup-body popup-body-scrollable" id="achievementsListContainer">
            <!-- Achievements will be injected here -->
          </div>
          <!-- Reset button removed per UX request -->
        </div>
      </div>
  <link rel="stylesheet" href="src/resume-popup.css" />
  <link rel="stylesheet" href="src/resume-image-popup.css" />
    <div id="outputContainer"></div>
  </body>
</html>
